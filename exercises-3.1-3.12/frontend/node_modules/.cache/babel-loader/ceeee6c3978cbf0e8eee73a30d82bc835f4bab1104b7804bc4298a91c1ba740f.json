{"ast":null,"code":"import _slicedToArray from\"/Users/kendallhtucker1/dev/university of helskinki full stack class/full-stack-open/exercises-3.1-3.9/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import React from'react';import peopleService from'./services/persons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddNew=function AddNew(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newName=_useState2[0],setNewName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newNumber=_useState4[0],setNewNumber=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),successMessage=_useState6[0],setSuccessMessage=_useState6[1];var Notification=function Notification(_ref){var message=_ref.message;if(message===null){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"success\",children:message});};// what happens on submit (name and number get added to array in server)\nvar addName=function addName(event){event.preventDefault();var nameObject={name:newName,number:newNumber};//check if name is already in list\nif(props.list.some(function(object){return object.name===newName;})){window.alert(\"\".concat(newName,\" is already added to phonebook\"));}else{peopleService.create(nameObject).then(function(returnedNote){props.setlist(props.list.concat(returnedNote));setSuccessMessage(\"Added \".concat(nameObject.name));setTimeout(function(){setSuccessMessage(null);},5000);setNewName('');setNewNumber('');});}};// event handler that tracks what's written in name box\nvar handleNameChange=function handleNameChange(event){setNewName(event.target.value);};// event handler that tracks what's written in number box\nvar handleNumberChange=function handleNumberChange(event){setNewNumber(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"add new\"}),/*#__PURE__*/_jsx(Notification,{message:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addName,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"name: \",/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:handleNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"number: \",/*#__PURE__*/_jsx(\"input\",{value:newNumber,onChange:handleNumberChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"add\"})})]})]});};export default AddNew;","map":{"version":3,"names":["useState","React","peopleService","AddNew","props","newName","setNewName","newNumber","setNewNumber","successMessage","setSuccessMessage","Notification","message","addName","event","preventDefault","nameObject","name","number","list","some","object","window","alert","create","then","returnedNote","setlist","concat","setTimeout","handleNameChange","target","value","handleNumberChange"],"sources":["/Users/kendallhtucker1/dev/university of helskinki full stack class/full-stack-open/exercises-3.1-3.9/frontend/src/addnew.js"],"sourcesContent":["import { useState } from 'react'\nimport React from 'react'\nimport peopleService from './services/persons'\n\nconst AddNew = (props) => {\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [successMessage, setSuccessMessage] = useState(``)\n\n    const Notification = ({ message }) => {\n        if (message === null) {\n          return null\n        }\n      \n        return (\n          <div className='success'>\n            {message}\n          </div>\n        )\n      }\n    \n    // what happens on submit (name and number get added to array in server)\n    const addName = (event) => {\n        event.preventDefault()\n        const nameObject = {\n            name: newName,\n            number: newNumber,\n        }\n\n        //check if name is already in list\n        if (props.list.some(object => object.name === newName)) {\n            window.alert(`${newName} is already added to phonebook`)\n        } else {\n            peopleService\n                .create(nameObject)\n                .then(returnedNote => {\n                    props.setlist(props.list.concat(returnedNote))\n                    setSuccessMessage(`Added ${nameObject.name}`)\n                    setTimeout(() => {\n                        setSuccessMessage(null)\n                      }, 5000)\n                    setNewName('')\n                    setNewNumber('')\n                })\n        }\n    }\n\n    // event handler that tracks what's written in name box\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    // event handler that tracks what's written in number box\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    return (\n        <div>\n            <h2>add new</h2>\n            <Notification message={successMessage} />\n            <form onSubmit={addName}>\n                <div>\n                    name: <input\n                        value={newName}\n                        onChange={handleNameChange}\n                    />\n                </div>\n                <div>\n                    number: <input\n                        value={newNumber}\n                        onChange={handleNumberChange}\n                    />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n\n}\n\nexport default AddNew"],"mappings":"oMAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,cAAa,KAAM,oBAAoB,yFAE9C,GAAMC,OAAM,CAAG,QAATA,OAAM,CAAIC,KAAK,CAAK,CACtB,cAA8BJ,QAAQ,CAAC,EAAE,CAAC,wCAAnCK,OAAO,eAAEC,UAAU,eAC1B,eAAkCN,QAAQ,CAAC,EAAE,CAAC,yCAAvCO,SAAS,eAAEC,YAAY,eAC9B,eAA4CR,QAAQ,IAAI,yCAAjDS,cAAc,eAAEC,iBAAiB,eAExC,GAAMC,aAAY,CAAG,QAAfA,aAAY,MAAoB,IAAdC,QAAO,MAAPA,OAAO,CAC3B,GAAIA,OAAO,GAAK,IAAI,CAAE,CACpB,MAAO,KAAI,CACb,CAEA,mBACE,YAAK,SAAS,CAAC,SAAS,UACrBA,OAAO,EACJ,CAEV,CAAC,CAEH;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAK,CACvBA,KAAK,CAACC,cAAc,EAAE,CACtB,GAAMC,WAAU,CAAG,CACfC,IAAI,CAAEZ,OAAO,CACba,MAAM,CAAEX,SACZ,CAAC,CAED;AACA,GAAIH,KAAK,CAACe,IAAI,CAACC,IAAI,CAAC,SAAAC,MAAM,QAAIA,OAAM,CAACJ,IAAI,GAAKZ,OAAO,GAAC,CAAE,CACpDiB,MAAM,CAACC,KAAK,WAAIlB,OAAO,mCAAiC,CAC5D,CAAC,IAAM,CACHH,aAAa,CACRsB,MAAM,CAACR,UAAU,CAAC,CAClBS,IAAI,CAAC,SAAAC,YAAY,CAAI,CAClBtB,KAAK,CAACuB,OAAO,CAACvB,KAAK,CAACe,IAAI,CAACS,MAAM,CAACF,YAAY,CAAC,CAAC,CAC9ChB,iBAAiB,iBAAUM,UAAU,CAACC,IAAI,EAAG,CAC7CY,UAAU,CAAC,UAAM,CACbnB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAAE,IAAI,CAAC,CACVJ,UAAU,CAAC,EAAE,CAAC,CACdE,YAAY,CAAC,EAAE,CAAC,CACpB,CAAC,CAAC,CACV,CACJ,CAAC,CAED;AACA,GAAMsB,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIhB,KAAK,CAAK,CAChCR,UAAU,CAACQ,KAAK,CAACiB,MAAM,CAACC,KAAK,CAAC,CAClC,CAAC,CAED;AACA,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,CAAInB,KAAK,CAAK,CAClCN,YAAY,CAACM,KAAK,CAACiB,MAAM,CAACC,KAAK,CAAC,CACpC,CAAC,CACD,mBACI,oCACI,+BAAgB,cAChB,KAAC,YAAY,EAAC,OAAO,CAAEvB,cAAe,EAAG,cACzC,cAAM,QAAQ,CAAEI,OAAQ,wBACpB,6CACU,cACF,KAAK,CAAER,OAAQ,CACf,QAAQ,CAAEyB,gBAAiB,EAC7B,GACA,cACN,+CACY,cACJ,KAAK,CAAEvB,SAAU,CACjB,QAAQ,CAAE0B,kBAAmB,EAC/B,GACA,cACN,kCACI,eAAQ,IAAI,CAAC,QAAQ,iBAAa,EAChC,GACH,GACL,CAGd,CAAC,CAED,cAAe9B,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}